CREATE DATABASE IF NOT EXISTS imdb;

USE imdb;
DROP TABLE IF EXISTS film,actor,film_actor;

CREATE TABLE film(
     film_id INT NOT NULL AUTO_INCREMENT,
     title VARCHAR(40),
     description TEXT NOT NULL,
     release_year YEAR,
     PRIMARY KEY(film_id)
);
CREATE TABLE actor(
     actor_id INT NOT NULL AUTO_INCREMENT,
     first_name VARCHAR(40),
     last_name VARCHAR(40),
     PRIMARY KEY(actor_id)
);
CREATE TABLE film_actor(
     film_actor_id INT NOT NULL AUTO_INCREMENT,
     id_film INT NOT NULL,
     id_actor INT NOT NULL,
     PRIMARY KEY(film_actor_id)
);
ALTER TABLE actor
  ADD last_update TIMESTAMP DEFAULT CURRENT_TIMESTAMP
    AFTER actor_id;

ALTER TABLE film
  ADD last_update TIMESTAMP DEFAULT CURRENT_TIMESTAMP
    AFTER film_id;

ALTER TABLE film_actor ADD 
    FOREIGN KEY (id_film)
    REFERENCES film (film_id);

ALTER TABLE film_actor ADD 
    FOREIGN KEY (id_actor)
    REFERENCES actor (actor_id);

insert into film(title, description,release_year )
  values ('cars','pelicula de autos y animacion',2006);
insert into film(title, description,release_year )
  values ('interestelar','pelicula de ciencia ficcion',2014);

insert into actor(first_name ,last_name )
  values ('Paul','Newman');
insert into actor(first_name ,last_name )
  values ('Matthew','McConaughey');

insert into film_actor(id_film,id_actor)
  values (1,1);
insert into film_actor(id_film,id_actor)
  values (2,2);